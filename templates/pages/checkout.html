{{#partial "head"}}
 
{{{ checkout.checkout_head }}}
{{{ stylesheet '/assets/css/optimized-checkout.css' }}}
{{{ stylesheet '/assets/css/optimized-checkout-custom.css' }}}
{{ getFontsCollection }}
 
<script type="text/javascript">
     window.language = {{{langJson 'optimized_checkout'}}};
</script>
 
{{{head.scripts}}}

<script src="https://checkout-sdk.bigcommerce.com/v1/loader.js"></script>
 
{{/partial}}
 
{{#partial "page"}}

<script>
    const initCheckoutSdk = async () => {
        window.module = await checkoutKitLoader.load('checkout-sdk');
        window.service = module.createCheckoutService();
        window.state = await service.loadCheckout('{{{ checkout.id }}}');
    };
    
    const initNoSaintCustomCheckout = async () => {
        await initCheckoutSdk();
        const customer = window.state.data.getCustomer();
        if (!customer || customer.isGuest) {
            window.location.href = "{{theme_settings.NOSAINT_URL}}/checkout";
        }
    }    

    initNoSaintCustomCheckout();
</script>
 
<header class="checkoutHeader optimizedCheckout-header">
     <div class="checkoutHeader-content">
          <h2 class="checkoutHeader-heading">
              <a class="checkoutHeader-link" href="{{urls.home}}">
                
                 {{#if checkout.header_image}}
                       <img alt="{{settings.store_logo.title}}" class="checkoutHeader-logo" id="logoImage" src="{{ checkout.header_image }}"/>
                 {{ else }}
                       <span class="header-logo-text">{{settings.store_logo.title}}</span>
                 {{/if}}
              </a>
          </h2>
     </div>
</header>
 
 
{{{ checkout.checkout_content }}}
 
{{{ footer.scripts }}}
 
{{/partial}}
 
{{> layout/empty}}